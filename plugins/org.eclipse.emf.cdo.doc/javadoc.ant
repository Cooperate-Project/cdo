<?xml version="1.0"?>
<project name="JavaDoc" default="build.clean" basedir="../..">

	<property name="javadoc.name" value="CDO" />
	<property name="javadoc.project" value="plugins/org.eclipse.emf.cdo.doc" />
	<property name="destdir" value="${javadoc.project}/javadoc" />

	<path id="javadoc.classpath">
		<fileset dir="_target/plugins">
			<include name="**/*.jar" />
		</fileset>
		<fileset dir="plugins">
			<include name="**/*.jar" />
		</fileset>
		<dirset dir="plugins">
			<include name="*/bin" />
		</dirset>
	</path>

	<target name="clean">
		<delete includeemptydirs="true">
			<fileset dir="${destdir}">
				<include name="**/*" />
			</fileset>
		</delete>
	</target>

	<target name="build">
		<javadoc destdir="${destdir}"
		         Encoding="ISO-8859-1"
		         classpathref="javadoc.classpath"
		         maxmemory="1024m"
		         source="1.5"
		         useexternalfile="true"
		         author="true"
		         version="true"
		         use="true"
		         windowtitle="${javadoc.name} API Specification"
		         doctitle="&lt;h1>${javadoc.name} API Specification&lt;/h1>"
		         bottom="&lt;i>Copyright (c) 2004 - 2011 Eike Stepper (Berlin, Germany) and others.&lt;/i>">

			<fileset dir="plugins" defaultexcludes="yes">
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/common/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/common/branch/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/common/commit/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/common/commit/handler/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/common/id/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/common/lob/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/common/lock/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/common/model/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/common/protocol/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/common/revision/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/common/revision/delta/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/common/util/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/spi/common/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/spi/common/branch/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/spi/common/commit/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/spi/common/id/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/spi/common/model/*.java" />
				<include name="org.eclipse.emf.cdo.common/src/org/eclipse/emf/cdo/spi/common/revision/*.java" />
				<include name="org.eclipse.emf.cdo.edit/src/org/eclipse/emf/cdo/edit/*.java" />
				<include name="org.eclipse.emf.cdo.edit/src/org/eclipse/emf/cdo/eresource/provider/*.java" />
				<include name="org.eclipse.emf.cdo.edit/src/org/eclipse/emf/cdo/etypes/provider/*.java" />
				<include name="org.eclipse.emf.cdo.location/src/org/eclipse/emf/cdo/location/*.java" />
				<include name="org.eclipse.emf.cdo.net4j/src/org/eclipse/emf/cdo/net4j/*.java" />
				<include name="org.eclipse.emf.cdo.server.db/src/org/eclipse/emf/cdo/server/db/*.java" />
				<include name="org.eclipse.emf.cdo.server.db/src/org/eclipse/emf/cdo/server/db/mapping/*.java" />
				<include name="org.eclipse.emf.cdo.server.db4o/src/org/eclipse/emf/cdo/server/db4o/*.java" />
				<include name="org.eclipse.emf.cdo.server.hibernate/src/org/eclipse/emf/cdo/server/hibernate/*.java" />
				<include name="org.eclipse.emf.cdo.server.mongodb/src/org/eclipse/emf/cdo/server/mongodb/*.java" />
				<include name="org.eclipse.emf.cdo.server.net4j/src/org/eclipse/emf/cdo/server/net4j/*.java" />
				<include name="org.eclipse.emf.cdo.server.objectivity/src/org/eclipse/emf/cdo/server/objectivity/*.java" />
				<include name="org.eclipse.emf.cdo.server.ocl/src/org/eclipse/emf/cdo/server/ocl/*.java" />
				<include name="org.eclipse.emf.cdo.server/src/org/eclipse/emf/cdo/server/*.java" />
				<include name="org.eclipse.emf.cdo.server/src/org/eclipse/emf/cdo/server/embedded/*.java" />
				<include name="org.eclipse.emf.cdo.server/src/org/eclipse/emf/cdo/server/mem/*.java" />
				<include name="org.eclipse.emf.cdo.server/src/org/eclipse/emf/cdo/spi/server/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/cdo/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/cdo/eresource/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/cdo/eresource/impl/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/cdo/eresource/util/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/cdo/eresource/validation/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/cdo/etypes/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/cdo/etypes/impl/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/cdo/etypes/util/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/cdo/session/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/cdo/session/remote/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/cdo/transaction/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/cdo/util/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/cdo/view/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/internal/cdo/*.java" />
				<include name="org.eclipse.emf.cdo/src/org/eclipse/emf/spi/cdo/*.java" />
			</fileset>

			<link href="http://download.oracle.com/javase/1.5.0/docs/api" />
			<link href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api" />
			<link href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0" />
			<link href="../../org.eclipse.net4j.doc/javadoc" offline="true" packagelistloc="plugins/org.eclipse.net4j.doc/javadoc" />

			<tag name="Singleton" description="Singleton" />
			<tag name="generated" description="Generated" />
			<tag name="extends" description="Extends" />
			<tag name="model" description="Model" />
			<tag name="ordered" description="Ordered" />
			<tag name="ADDED" description="Added" />
			<tag name="category" description="Category" />
			<tag name="noimplement" description="No Implement" />
			<tag name="noextend" description="No Extend" />
			<tag name="noinstantiate" description="No Instantiate" />
			<tag name="noreference" description="No Reference" />
		</javadoc>

		<replaceregexp match="&lt;!-- Generated by javadoc .*-->" replace="">
			<fileset dir="${destdir}">
				<include name="**/*.html" />
			</fileset>
		</replaceregexp>
	</target>

	<target name="build.clean" depends="clean,build" />

</project>
